<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>First Mapbox Map</title>
  <!-- Mapbox JS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <script src='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.js'></script>
  <!-- Mapbox CSS -->
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.10.0/mapbox-gl.css' rel='stylesheet' />    <style>
  #map {
    /* the width and height may be set to any size */
    width: 100%;
    height: 700px;
  }
</style>
</head>
<body>

<div class="card-img-overlay align-items: center">
<div class="text-center fs-1 p-3 mb-2 bg-white text-dark bg- opacity-75">
<h1>My First Mapbox Map!</h1>
</div>


<!-- The HTML element that serves as the Mapbox container -->
<!-- Load the `mapbox-gl-geocoder` plugin. -->
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css">


<!--display navigation directions-->
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.1/mapbox-gl-directions.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.1/mapbox-gl-directions.css" type="text/css">



<div id='map' style='width: 400px; height: 300px;'></div>
<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoicHJlbGkwMyIsImEiOiJjbGd5MXNoMW4wMGphM2dzdTlyb2F5dmhkIn0.ZtkHZdMzPk8vvoJuLvfU5Q';

//starting map marker location
  const map = new mapboxgl.Map({
    container: 'map', // container ID
    style: 'mapbox://styles/mapbox/streets-v12', // style URL
    center: [-97.7430608,30.267153], // starting position [lng, lat] austin,tx
    zoom: 12, // starting zoom
    doubleClickzoom: true,
  });

  let restaurants = [
    {
      name: "The Mansion Bar",
      foodType: "Steak",
      price: "Pricey",
      location: [ -96.80743043131837,32.8047635876213,],
      marker: '',
      popup: ''
    },
    {
      name: "The Driskill Grill",
      foodType: "Steak",
      price: "Pricey",
      location: [-97.74172792524682,30.268633005834257],
      marker: '',
      popup: ''
    },
    {
      name: "Perrys",
      foodType: "Steaks",
      price: "Pricey",
      location: [-97.74353762842307,30.269444505877708],
      marker: '',
      popup: ''
    }
  ]

  function createMarkers(){
    restaurants.forEach(function (restaurant){
      restaurant.marker = new mapboxgl.Marker()
              .setLngLat(restaurant.location)
              .addTo(map);

      restaurant.popup =new mapboxgl.Popup()
              .setHTML("<h5>" + restaurant.name + "</h5><p>" + restaurant.foodType + "</p><p>" + restaurant.price + " food!</p>")
              .setLngLat(restaurant.location)
      // .addTo(map);

      restaurant.marker.setPopup(restaurant.popup);
    })
  }

  createMarkers(restaurants);
  //create a new marker--
  /*const restaurant1 = new mapboxgl.Marker({
            zoom: 12,
            doubleClickzoom: true,
          })
  .setLngLat([-95.36, 29.76])
  .addTo(map)
*/

//dallas
  const restaurant2 = new mapboxgl.Marker()
          .setLngLat([-96.79, 32.77])
          .addTo(map);

  /*const popup = new mapboxgl.Popup({ closeOnClick: false })
          .setLngLat([-96.79, 32.77])
          .setHTML('<h1>The Mansion Bar 2821 Turtle Creek Blvd, Dallas, TX 75219</h1>')
          .addTo(map);*/

  // Add the control to the map.
 /* map.addControl(
          new MapboxGeocoder({
            accessToken: mapboxgl.accessToken,
            mapboxgl: mapboxgl,

          }))*/

  /*map.addControl(
          new MapboxDirections({
            accessToken: mapboxgl.accessToken
          }),
          'bottom-left'
  );*/


  // 2821 Turtle Creek Blvd, Dallas, TX 75219 -- the mansion bar
  // 1777 Walker St, Houston, TX 77010 -- biggios
</script>
</div>

</body>
</html>
